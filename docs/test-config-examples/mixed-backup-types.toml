# Mixed Backup Types Example
#
# Shows how to configure different types of backups in one config file:
#   - Root LV (logical_volume_root)
#   - Data LV (logical_volume_nonroot)
#   - Standard partition (standard_path)

# ═════════════════════════════════════════════════════════════
# ROOT LOGICAL VOLUME
# ═════════════════════════════════════════════════════════════
[logical_volume_root.root]
vg_name = "vg0"
lv_name = "lv_root"
snapshot_size = "2G"
backup_source_path = "/"
exclude_paths = [
    "/dev",
    "/proc",
    "/sys",
    "/tmp",
    "/var/tmp",
    "/run",
]

[[logical_volume_root.root.repositories]]
repo_path = "/backups/root"
password_file = "/etc/resticlvm/restic-password.txt"
prune_keep_last = 7
prune_keep_daily = 7
prune_keep_weekly = 4
prune_keep_monthly = 6
prune_keep_yearly = 2


# ═════════════════════════════════════════════════════════════
# DATA LOGICAL VOLUME (non-root)
# ═════════════════════════════════════════════════════════════
[logical_volume_nonroot.data]
vg_name = "vg_data"
lv_name = "lv_data"
snapshot_size = "5G"
backup_source_path = "/data"
exclude_paths = []

[[logical_volume_nonroot.data.repositories]]
repo_path = "/backups/data"
password_file = "/etc/resticlvm/restic-password.txt"
prune_keep_last = 14
prune_keep_daily = 14
prune_keep_weekly = 8
prune_keep_monthly = 12
prune_keep_yearly = 3


# ═════════════════════════════════════════════════════════════
# STANDARD PARTITION (e.g., /boot)
# ═════════════════════════════════════════════════════════════
[standard_path.boot]
backup_source_path = "/boot"
exclude_paths = []
remount_readonly = true  # Remount read-only during backup for data consistency

[[standard_path.boot.repositories]]
repo_path = "/backups/boot"
password_file = "/etc/resticlvm/restic-password.txt"
prune_keep_last = 10
prune_keep_daily = 10
prune_keep_weekly = 6
prune_keep_monthly = 12
prune_keep_yearly = 2
